{% extends 'base.html' %}
{% block content %}
  <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
    <div class="row pt-4">
      <h1>List of Users</h1>
    </div>
    <div class="row col-8 pt-2">
      <div class="table-responsive">
        <table class="table table-striped table-hover table-sm">
          <thead class="thead-dark">
            <tr>
              <th scope="col">Username</th>
              <th scope="col">PreferredName</th>
              <th scope="col">Operator</th>
              <th scope="col">Engineer</th>
              <th scope="col">Approver</th>
              <th scope="col">Endorser</th>
            </tr>
          </thead>
          <tbody>
            {% for obj in objects %}
              <tr>
                <td scope="row">
                  {% if perms.accounts.is_engineer %}
                    <a href="{{ obj.user_obj.get_edit_url }}">{{ obj.user_obj.username }}</a>
                  {% else %}
                    {{ obj.user_obj.username }}
                  {% endif %}
                </td>
                <td scope="row">{{ obj.user_obj.preferred_name }}</td>
                <td scope="row">{{ obj.is_operator }}</td>
                <td scope="row">{{ obj.is_engineer }}</td>
                <td scope="row">{{ obj.is_approver }}</td>
                <td scope="row">{{ obj.is_endorser }}</td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </main>
{% endblock %}
