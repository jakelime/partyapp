{% extends 'controls/base.html' %}
{% load render_table from django_tables2 %}
{% load crispy_forms_tags %}
{% load django_bootstrap5 %}
{% block content %}
  <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
    <div class="row pt-4 pb-2">
      <h1>List of Users</h1>
      <div class="accordion" id="accordionFilterTable">
        <div class="accordion-item">
          <h2 class="accordion-header" id="headingTwo"><button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">Apply filters</button></h2>
          <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#accordionExample">
            <div class="accordion-body">
              <strong>Select variables to filter</strong>
              {% if filter %}
                <form action="" method="get">
                  {% comment '' %}django bootstrap 5 does not support spaces between ={% endcomment %}
                  {% bootstrap_form filter.form layout='horizontal' %}
                  <br />
                  {% bootstrap_button 'Filter records' %}
                </form>
              {% endif %}
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row col-lg-12 pt-2">
      {% render_table table %}
    </div>
  </main>
{% endblock %}
